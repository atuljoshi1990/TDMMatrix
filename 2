Republicans are looking for a Plan B on immigration after a series of proposals were rejected Thursday in the Senate, leaving little time to act before nearly 1 million immigrants who came to the country illegally as children could face deportation.

Sen. John Thune (S.D.), the No. 3 Republican in the Senate, is floating a proposal to extend the Deferred Action for Childhood Arrivals (DACA) program indefinitely in exchange for $25 billion for border security.

President Trump has opposed any deal that does not also include changes to two legal immigration programs, however.

It is also far from clear that conservatives in the House would go along with the plan. GOP leaders in that chamber are trying to build support for a harder-line bill, though an initial version has come up short in whipping efforts.

Still, GOP lawmakers are taking a close look at new ideas after legislation based on Trump’s framework for an immigration deal won just 39 votes on Thursday — fewer than two other proposals. (Senate Majority Leader Mitch McConnell [R-Ky.] also backed the measure, but changed his vote for procedural reasons.)

“People are talking about it quietly but not in front of the whole group yet,” a Republican senator said of conversations about a backstop.

GOP lawmakers acknowledge that Trump would need to endorse any fallback plan for it to have a chance of passing.

And such a turnaround seemed unlikely on Thursday, as Trump and the Department of Homeland Security railed against proposals falling short of his goals.

Trump, who just last month said he would sign any bill a group of senators sent to him, increasingly appears to be siding with immigration hard-liners in his administration, such as top White House aide Stephen Miller.

But after the failure of the bill based on Trump’s four-point proposal, Sen. Lindsey Graham (R-S.C.) said the president needs to retrench his expectations.

“The thing I like about [the Thune–Portman–Moran] proposal is it’s a two-pillar proposal,” he said.

The new GOP proposal, floated within hours of the failed votes, is also backed by Sens. Rob Portman (R-Ohio) and Jerry Moran (R-Kan.). It would subject the Obama-era program shielding about 700,000 people from deportation to two-year renewal periods, according to a GOP source familiar with the proposal.

Such a bargain would extend “permanent protection to today’s Dreamers who are facing an uncertain future and finally [take] a meaningful step toward enhancing border security,” Thune said, referring to the immigrants covered by DACA.

Trump is demanding that a deal include $25 billion for his border wall, but the GOP plan would instead establish a $25 billion trust fund for border security and cap outlays at $5 billion a year.

Portman called it “a sensible and fair solution is to codify the protections for the DACA population that puts “in place stronger border security measures consistent with the president’s proposal.”  

Separately, Sen. Jeff Flake (R-Ariz.) is shopping around another proposal that would extend DACA for three years in exchange for three years of bolstered border security funding.

That measure looks like a stretch — at least partly because of the retiring Flake’s poor relationship with Trump.

Trump isn’t the only hurdle that the Thune measure would face.

Senate Democrats seem very unlikely to back a package that includes $25 billion for border security and no pathway to citizenship for Dreamers. It would represent a significant step back from a deal put together by centrist senators from both parties this week, though that effort also failed to win a supermajority of 60 votes.

“Yeah, everything they wanted on the wall and next to nothing for Dreamers,” a Senate Democratic leadership aide said, waving aside the idea. 

It will also be opposed by some Senate Republicans.

Sen. David Perdue (R-Ga.), who has been in the middle of immigration talks, called the Thune idea “a fallback position,” but called for broader reform.

“Here’s the problem, it doesn’t end the cause of this and incentivizes a whole new generation of parents to bring their kids in illegally,” he said. “That’s the part that Democrats just really don’t want to face up.”

Sen. Tom Cotton (R-Ark.) told reporters Thursday that a permanent fix for illegal immigrants who came to the country at a young age would be preferable.

He described himself as “hesitant” to embrace a temporary fix.

“It would be better for the people who are in the DACA program as well as better for our immigration system to have a permanent solution,” Cotton said.

“Part of the problem that people in the DACA program explain is when they only have one year, two years, three years of certainty, it’s hard for them to make big life decisions: to change a job, to move, to sign a mortgage,” he said.

Trump’s preferred framework also includes language reducing the weight of family relationships in decisions to grant green cards, and overhauling the diversity visa lottery program.

Trump gave Congress a March 5 deadline to replace DACA, but some lawmakers say they really have until June to come up with a solution because two federal judges have issued injunctions ordering the Trump administration to keep DACA in place, at least temporarily.

“It’s no longer a reality the deadline is March 5,” said Cotton. 

Cotton said the Supreme Court is not likely to rule on the issue until June and could even postpone it until the fall session, setting up a ruling around the time of the midterm elections. 

Republican senators say the most likely way for a fallback measure to reach Trump would be for it to be attached to an omnibus spending package Congress must pass before a March 23 deadline.

Senate Republican Whip John Cornyn (Texas) told reporters that he didn't see an immigration backstop plan getting dedicated floor time. He said it might be possible to attach something to the omnibus, however.